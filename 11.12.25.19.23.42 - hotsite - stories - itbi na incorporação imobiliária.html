<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procuradoria do Munic√≠pio de Bauru</title>
    <style>
        /* =========================================
           CONFIGURA√á√ïES (Vari√°veis)
           ========================================= */
        :root {
            --story-duration: 10s; 
            --primary-color: #fff;
            --bg-color: #000;
            --blur-bg: #222;
        }

        /* =========================================
           CSS GERAL
           ========================================= */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            background-color: var(--blur-bg);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            user-select: none; /* Impede sele√ß√£o de texto ao clicar r√°pido */
        }

        /* Container Principal */
        .story-container {
            position: relative;
            width: 100%;
            height: 100%;
            max-width: 420px;
            max-height: 900px;
            background-color: var(--bg-color);
            overflow: hidden;
            box-shadow: 0 0 30px rgba(0,0,0,0.6);
            cursor: pointer; /* Indica que √© clic√°vel */
        }

        /* Slides */
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.2s ease-in-out; /* Transi√ß√£o suave */
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .slide.active {
            opacity: 1;
            z-index: 2;
        }

        .slide-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            pointer-events: none; /* Garante que o clique passe para o container */
        }

        .overlay-gradient {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            z-index: 0;
            pointer-events: none;
        }

        /* Conte√∫do */
        .content {
            position: relative;
            padding: 24px;
            color: var(--primary-color);
            z-index: 10;
            margin-bottom: 50px;
            pointer-events: none; /* Deixa o clique passar, exceto nos bot√µes */
        }

        /* Bot√£o deve ser clic√°vel */
        .btn-action {
            display: inline-block;
            padding: 12px 24px;
            background: #fff;
            color: #000;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 15px;
            margin-top: 15px;
            pointer-events: auto; /* Reativa o clique no bot√£o */
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        /* Header */
        .story-header {
            position: absolute;
            top: 20px;
            left: 15px;
            display: flex;
            align-items: center;
            z-index: 20;
            color: var(--primary-color);
            pointer-events: none;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .username { font-size: 14px; font-weight: 600; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
        .time { font-size: 12px; opacity: 0.8; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }

        /* Barras de Progresso */
        .progress-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 8px 5px;
            display: flex;
            gap: 4px;
            z-index: 30;
        }

        .progress-item {
            flex: 1;
            height: 3px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            width: 0%;
            height: 100%;
            background: #fff;
            border-radius: 2px;
        }

        /* Anima√ß√£o */
        .slide.active .progress-fill {
            animation: progressAnimation var(--story-duration) linear forwards;
        }

        .progress-item.viewed .progress-fill {
            width: 100% !important;
            animation: none;
        }

        @keyframes progressAnimation {
            from { width: 0%; }
            to { width: 100%; }
        }
    </style>
</head>
<body>

    <!-- Container Principal (Onde o clique ser√° detectado) -->
    <div class="story-container" id="storyContainer">
        
        <!-- Header -->
        <div class="progress-container" id="progressContainer"></div>
        <div class="story-header">
            <img src="https://i.postimg.cc/W3GPygjC/11-12-25-17-36-14-brasao-PMB-fundo-verde-proporcao-menor.png" class="user-avatar" alt="User">
            <div class="user-info">
                <div class="username">Procuradoria do Munic√≠pio de Bauru</div>
                <div class="time">Agora mesmo</div>
            </div>
        </div>

        <!-- SLIDES -->
        
        <!-- SLIDE 0: Capa -->
        <div class="slide active">
            <img src="https://i.postimg.cc/xdrthHcH/25-07-25-18-16-01-bg-bauru.png" class="slide-bg" alt="Foto 1">
            <div class="overlay-gradient"></div>
            <div class="content">
                <h1>ITBI nas Incorpora√ß√µes Imobili√°rias</h1>
                <br />
                <h3>üîé An√°lise da t√©cnica de tributa√ß√£o</h3>
            </div>
        </div>

        <!-- SLIDE X: padr√£o
        <div class="slide" style="background-color: #6a11cb; background-image: linear-gradient(167deg,rgba(57, 66, 69, 1) 14%, rgba(9, 105, 15, 1) 50%, rgba(7, 79, 29, 1) 91%);">
            // Sem imagem de fundo, usando CSS gradient inline //
            <div class="content" >
                <h2>T√çTULO</h2>
                <p><b>Subt√≠tulo</b></p>
                <br />
                <p>Corpo</p>
            </div>
        </div>
        -->

        <!-- SLIDE 1 -->
        <div class="slide" style="background-color: #6a11cb; background-image: linear-gradient(167deg,rgba(57, 66, 69, 1) 14%, rgba(9, 105, 15, 1) 50%, rgba(7, 79, 29, 1) 91%);">
            <!-- Sem imagem de fundo, usando CSS gradient inline -->
            <div class="content" >
                <h2>üè¢ ITBI NA INCORPORA√á√ÉO IMOBILI√ÅRIA</h2>
                <p><b>A controv√©rsia sobre a Base de C√°lculo na compra na planta</b></p>
                <br />
                <p>Existe uma dicotomia entre a realidade econ√¥mica do neg√≥cio (venda de im√≥vel pronto) e a tese de fracionamento da base de c√°lculo (tributa√ß√£o apenas sobre a fra√ß√£o ideal). Apresento uma an√°lise t√©cnica √† luz das S√∫mulas do STF e do Tema 1.113 do STJ.</p>
            </div>
        </div>

        <!-- SLIDE 2 -->
        <div class="slide" style="background-color: #6a11cb; background-image: linear-gradient(167deg,rgba(57, 66, 69, 1) 14%, rgba(9, 105, 15, 1) 50%, rgba(7, 79, 29, 1) 91%);">
            <!-- Sem imagem de fundo, usando CSS gradient inline -->
            <div class="content" >
                <h2>üîë O FATO GERADOR</h2>
                <p><b>Obriga√ß√£o de Dar vs. Obriga√ß√£o de Fazer</b></p>
                <br />
                <p>Juridicamente, o adquirente na planta n√£o contrata isoladamente a constru√ß√£o. Ele adquire <i>coisa futura</i>. O objeto do contrato √© a unidade aut√¥noma conclu√≠da; a segrega√ß√£o de custos √© meramente cont√°bil, n√£o alterando a natureza da transmiss√£o da propriedade plena.</p>
            </div>
        </div>

        <!-- SLIDE 3 -->
        <div class="slide" style="background-color: #6a11cb; background-image: linear-gradient(167deg,rgba(57, 66, 69, 1) 14%, rgba(9, 105, 15, 1) 50%, rgba(7, 79, 29, 1) 91%);">
            <!-- Sem imagem de fundo, usando CSS gradient inline -->
            <div class="content" >
                <h2>üìú S√öMULAS 110 E 470 DO STF</h2>
                <p><b>A Necessidade de Supera√ß√£o (Overruling)</b></p>
                <br />
                <p>Editadas num contexto hist√≥rico de "constru√ß√£o a pre√ßo de custo", elas n√£o refletem a incorpora√ß√£o moderna a pre√ßo fechado. Hoje, a constru√ß√£o adere ao solo antes da tradi√ß√£o, tornando a aplica√ß√£o autom√°tica dessas s√∫mulas um anacronismo jur√≠dico.</p>
            </div>
        </div>

        <!-- SLIDE 4 -->
        <div class="slide" style="background-color: #6a11cb; background-image: linear-gradient(167deg,rgba(57, 66, 69, 1) 14%, rgba(9, 105, 15, 1) 50%, rgba(7, 79, 29, 1) 91%);">
            <!-- Sem imagem de fundo, usando CSS gradient inline -->
            <div class="content" >
                <h2>üèõÔ∏è TEMA 1.113 DO STJ</h2>
                <p><b>Limites Interpretativos</b></p>
                <br />
                <p>O STJ vetou o arbitramento unilateral (Pautas de Valores) e refor√ßou a veracidade do valor declarado. Contudo, o Tema trata do <i>quantum</i> (valor), e n√£o da defini√ß√£o objetiva do <i>an debeatur</i> (extens√£o da base de c√°lculo).</p>
            </div>
        </div>

        <!-- SLIDE 5 -->
        <div class="slide" style="background-color: #6a11cb; background-image: linear-gradient(167deg,rgba(57, 66, 69, 1) 14%, rgba(9, 105, 15, 1) 50%, rgba(7, 79, 29, 1) 91%);">
            <!-- Sem imagem de fundo, usando CSS gradient inline -->
            <div class="content" >
                <h2>üîé O DISTINGUISHING NECESS√ÅRIO</h2>
                <p><b>Valor Declarado vs. Objeto Tributado</b></p>
                <br />
                <p>O Tema 1.113 impede o Fisco de arbitrar valor superior √† transa√ß√£o, mas n√£o o impede de exigir que o tributo incida sobre o valor total do contrato (terreno + obra). Isso respeita a realidade do neg√≥cio jur√≠dico √∫nico declarado pelo contribuinte.</p>
            </div>
        </div>

        <!-- SLIDE 6 -->
        <div class="slide" style="background-color: #6a11cb; background-image: linear-gradient(167deg,rgba(57, 66, 69, 1) 14%, rgba(9, 105, 15, 1) 50%, rgba(7, 79, 29, 1) 91%);">
            <!-- Sem imagem de fundo, usando CSS gradient inline -->
            <div class="content" >
                <h2>üí∞ CAPACIDADE CONTRIBUTIVA</h2>
                <p><b>A Realidade Econ√¥mica</b></p>
                <br />
                <p>Excluir a constru√ß√£o da base de c√°lculo gera descompasso com a Capacidade Contributiva. O valor de mercado ‚Äî base do ITBI segundo o CTN ‚Äî √© o do im√≥vel edificado, que √© o objeto final da transmiss√£o imobili√°ria no registro.</p>
            </div>
        </div>

        <!-- SLIDE 7 -->
        <div class="slide" style="background-color: #6a11cb; background-image: linear-gradient(167deg,rgba(57, 66, 69, 1) 14%, rgba(9, 105, 15, 1) 50%, rgba(7, 79, 29, 1) 91%);">
            <!-- Sem imagem de fundo, usando CSS gradient inline -->
            <div class="content" >
                <h2>‚öñÔ∏è TEND√äNCIA JURISPRUDENCIAL</h2>
                <p><b>O Cen√°rio nos Tribunais</b></p>
                <br />
                <p>Tribunais estaduais (como TJSP e TJRJ) j√° diferenciam casos atuais das S√∫mulas antigas. Consolida-se o entendimento de que a seguran√ßa jur√≠dica do Tema 1.113 n√£o ampara elis√£o fiscal via fracionamento artificial do objeto contratual.</p>
            </div>
        </div>

        <!-- SLIDE 8 -->
        <div class="slide" style="background-color: #6a11cb; background-image: linear-gradient(167deg,rgba(57, 66, 69, 1) 14%, rgba(9, 105, 15, 1) 50%, rgba(7, 79, 29, 1) 91%);">
            <!-- Sem imagem de fundo, usando CSS gradient inline -->
            <div class="content" >
                <h2>üìÑ AN√ÅLISE COMPLETA</h2>
                <p><b>Aprofundamento T√©cnico</b></p>
                <br />
                <p>A correta interpreta√ß√£o do fato gerador exige rigor t√©cnico para evitar passivos. Preparei um artigo detalhando a fundamenta√ß√£o jur√≠dica e o <i>distinguishing</i> necess√°rio.<br><br>üìÑ <b>Acesse o artigo completo no link abaixo.</b></p>
                <a href="https://google.com" target="_blank" class="btn-action">Link para artigo completo</a>
            </div>
        </div>

    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        const container = document.getElementById('storyContainer');
        const slides = document.querySelectorAll('.slide');
        const progressContainer = document.getElementById('progressContainer');
        
        let currentIndex = 0;
        let slideInterval;
        let isPaused = false; // Vari√°vel para pausar quando segura o clique (opcional)

        // Pega o tempo do CSS
        const cssDuration = getComputedStyle(document.documentElement).getPropertyValue('--story-duration').trim();
        const slideDuration = parseFloat(cssDuration) * 1000;

        // --- 1. Inicializa Barras ---
        function initProgressBars() {
            progressContainer.innerHTML = '';
            slides.forEach(() => {
                const item = document.createElement('div');
                item.className = 'progress-item';
                item.innerHTML = '<div class="progress-fill"></div>';
                progressContainer.appendChild(item);
            });
        }

        // --- 2. Mostra Slide ---
        function showSlide(index) {
            clearTimeout(slideInterval);

            // Controle de limites
            if (index >= slides.length) { index = 0; currentIndex = 0; resetProgressBars(); }
            else if (index < 0) { index = 0; currentIndex = 0; }
            else { currentIndex = index; }

            // Atualiza Classes Visualmente
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === currentIndex) slide.classList.add('active');
            });

            // Atualiza Barras
            const progressItems = document.querySelectorAll('.progress-item');
            progressItems.forEach((item, i) => {
                item.classList.remove('viewed');
                const fill = item.querySelector('.progress-fill');
                
                // Reinicia anima√ß√£o do atual
                if (i === currentIndex) {
                    fill.style.animation = 'none';
                    fill.offsetHeight; // trigger reflow
                    fill.style.animation = null; 
                } 
                // Marca anteriores como vistos
                else if (i < currentIndex) {
                    item.classList.add('viewed');
                }
            });

            // Inicia Timer do pr√≥ximo
            startTimer();
        }

        function startTimer() {
            clearTimeout(slideInterval);
            slideInterval = setTimeout(() => {
                nextSlide();
            }, slideDuration);
        }

        function resetProgressBars() {
            document.querySelectorAll('.progress-item').forEach(i => i.classList.remove('viewed'));
        }

        function nextSlide() { showSlide(currentIndex + 1); }
        function prevSlide() { showSlide(currentIndex - 1); }

        // --- 3. L√ìGICA DE CLIQUE INTELIGENTE ---
        container.addEventListener('click', function(e) {
            // Se o usu√°rio clicou num bot√£o ou link (tag A ou Button), n√£o navega
            if(e.target.closest('a') || e.target.closest('button')) {
                return; 
            }

            // Pega a largura total do container
            const rect = container.getBoundingClientRect();
            const width = rect.width;
            
            // Pega a posi√ß√£o X do clique dentro do elemento
            const clickX = e.clientX - rect.left;

            // Define a √°rea de clique (30% esquerda volta, 70% direita avan√ßa)
            // Isso √© melhor que 50/50 para facilitar o "avan√ßar" com uma m√£o s√≥
            if (clickX < width * 0.30) {
                prevSlide();
            } else {
                nextSlide();
            }
        });

        // (Opcional) Pausar ao segurar o clique (Desktop/Mobile)
        container.addEventListener('mousedown', () => { clearTimeout(slideInterval); });
        container.addEventListener('touchstart', () => { clearTimeout(slideInterval); });
        
        // Soltar o clique retoma o timer
        container.addEventListener('mouseup', startTimer);
        container.addEventListener('touchend', startTimer);


        // Iniciar
        initProgressBars();
        showSlide(0);

    </script>
</body>
</html>